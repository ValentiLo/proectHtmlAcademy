<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <pre>6.4. DOM-дерево
~ 4 минуты
Дерево — это структура. Такое название структуре дано не зря, она действительно напоминает дерево, только перевёрнутое: корень вверху, от корня вниз идут ветки и листья. Каждая часть дерева называется элементом, а в DOM-дереве элемент называется узлом. То есть узел — это абсолютно любой элемент дерева.

Узлы бывают родителями — когда у них есть дочерние узлы. И узлы бывают детьми — это узлы, у которых есть родитель.

Продолжая аналогию: у дерева и корень, и ветки, и листья — это узлы. Для тех веток, которые растут прямо из ствола, ствол — это родитель, с другой стороны для ствола ветка — это ребёнок. И такая иерархическая структура идёт от корня до листьев.

Почти все узлы могут быть одновременно и родителями и детьми. Почти, потому что есть такие узлы, как корень и листья. Корень — это тот элемент, с которого начинается дерево. То есть, выше корня ничего нет, и у корня нет родителя. Соответственно, каждый элемент, за исключением корня, имеет одного родителя. А лист — это узел, у которого нет детей. Соответственно, каждый узел, кроме листа, имеет любое количество детей.

Корень — это узел, у которого есть только потомки, лист — это узел, у которого есть только родитель.

Важные моменты
Корень может быть только один.
Родитель может быть только один.
У DOM-дерева корень — это document. Узел html не может являться корнем, потому что DOM-дерево содержит, кроме тегов, и отступы, и табуляции, и комментарии и так далее. И на одном уровне с html могут оказаться ещё узлы, а корень может быть только один, поэтому корень — это document. Для примера возьмём такую разметку:

&lt;!DOCTYPE html>
&lt;html>
    &lt;head>
        &lt;meta charset="utf-8">
    &lt;/head>
    &lt;body>
    &lt;/body>
&lt;/html>

     
У каждого узла, представленного объектом, есть свойство parentElement, которое содержит информацию о родителе элемента.

console.log(document.parentElement); // null

        
      
Потому что у корня не может быть родителей. В свойстве children записаны дочерние элементы узла:

console.log(document.children); // documentElement — в DOM дочерний элемент document называется не html, а именно documentElement
// Остальные DOM-узлы называются так же, как и теги в HTML
   
      
Свойство children можно воспринимать как массивоподобную коллекцию детей, а значит мы можем написать код, который будет перебирать всех детей и выводить в консоль структуру.

Чтобы узнать имя текущего элемента, нужно обратиться к свойству tagName или nodeName. По соглашению, для HTML-документов имя тега всегда возвращается в верхнем регистре, поэтому важно не забывать приводить к общему написанию с помощью метода строки toLowerCase.

Выведем структуру узла html, включая все дочерние элементы, на примере такой страницы:

&lt;!DOCTYPE html>
&lt;html>
    &lt;head>
        &lt;meta charset="utf-8">
    &lt;/head>
    &lt;body>
        &lt;h1>Document Object Model</h1>
    &lt;/body>
&lt;/html>
    
Скрипт для вывода структуры узла html будет иметь следующий вид:

const html = document.documentElement;
for (let i = 0; i < html.children.length; i++) {
    const child = html.children[i];
    console.log(child.tagName.toLowerCase());
    for (let j = 0; j < child.children.length; j++) {
        const innerChild = child.children[j];
        console.log('|---' + innerChild.tagName.toLowerCase());
    }
}
    
Скрипт в цикле перебирает все дочерние элементы HTML-узла — documentElement.children. У каждого ребёнка в свою очередь перебирает его дочерние элементы и выводит имена тегов, приведённые к нижнему регистру.

Результат будет иметь следующий вид:

head
  |---meta
body
  |---h1

    
</pre>
<p><a href="index.html">На главную</a></p>  
</body>
</html>